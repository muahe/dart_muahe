<link rel="import" href="packages/polymer/polymer.html">

<link rel="import" href="contact_form.html">
<link rel="import" href="contact_element.html">



<polymer-element name="contact-list">
  <template>
    <style>
      select {
        margin-bottom: 30px;
        display: inline;
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        color: #555;
        background-color: #fff;
        background-image: none;
        border: 1px solid #ccc;
        border-radius: 2px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        -webkit-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
      }
      
      table {
        width: 100%; 
      }
      
      td {
        width: 50%;
        text-align: left;
        vertical-align:top;  
             
      }
      
      #contact-form {
          background-color:#F2F7F9;
          width:80%;      
          height:100%;    
          padding:20px 20px;
          margin: auto auto;    
          border: 6px solid #8FB5C1;
          -moz-border-radius:15px;
          -webkit-border-radius:15px;
          border-radius:15px;
          position:relative;
        
          
          
      }
 
      #contact-form h1 {
          font-size:42px;
      }
       
      #contact-form h2 {
          margin-bottom:25px;
          font-style:italic;
          font-weight:bold;
      }
       
      #contact-form input, 
      #contact-form select, 
      #contact-form textarea, 
      #contact-form label {
          font-size:15px;
          margin-bottom:2px;
      }
       
      #contact-form input, 
      #contact-form select, 
      #contact-form textarea {
          width:450px;
          border: 1px solid #CEE1E8;
          margin-bottom:20px;
          padding:4px;
      }
       
      #contact-form input:focus, 
      #contact-form select:focus, 
      #contact-form textarea:focus {
          border: 1px solid #AFCDD8;
          background-color: #EBF2F4;
      }      
      
       
      #contact-form textarea {
          height:150px;
          resize: none;
      }
       
      #contact-form label {
          display:block;
      }
       
      #contact-form .required {
          font-weight:bold;
          color:#F00;    
      }
              
      
    </style>

    <div id="contact-form">    
      <table>
        <tr>
          <td>
            <h2>Formulaire d'ajout de contact :</h2>
            <div on-contactvalidated="{{addContact}}"
                 on-formnotneeded="{{resetForm}}">
              <contact-form contact="{{newContact}}"></contact-form>
            </div>            
            <hr style="width:100%; color:black; background-color:#8FB5C1; height:5px;"/>
            <div>
              <h2>Filtrer les contacts par type : </h2>
              <select value="{{typeValue}}" on-change="{{type}}">
                <option template repeat="{{type in types}}">
                  {{type}}
                </option>
              </select>
            </div>       
                    
          </td>
          <td>
            <h2>Liste des Contacts :</h2>
            <div on-deletecontact="{{deleteContact}}"
                 on-typechanged="{{type}}">
              <template repeat="{{contact in typedContacts}}">
                <contact-element contact="{{contact}}"></contact-element>                    
              </template>
            </div>
          </td>
        </tr>
      </table>         
    </div>
  </template>
  <script type="application/dart" src="contact_list.dart"></script>
</polymer-element>
